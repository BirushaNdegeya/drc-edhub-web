<mat-card class="overflow-hidden group hover:shadow-lg transition-shadow">
  <div class="relative overflow-hidden">
    <img
      [src]="course.thumbnail"
      [alt]="course.title"
      class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110"
    />
    <div class="absolute inset-0 bg-gradient-to-t from-gray-900/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
      <a [routerLink]="['/course', course.id]" mat-flat-button color="primary" class="!gap-2">
        <mat-icon>play_circle</mat-icon>
        Commencer
      </a>
    </div>
    <div class="absolute top-3 left-3 flex gap-2">
      <mat-chip [color]="getLevelColor(course.level)" class="!text-xs">
        {{ getLevelLabel(course.level) }}
      </mat-chip>
      <mat-chip class="!text-xs !bg-gray-200">{{ course.category }}</mat-chip>
    </div>
  </div>
  
  <mat-card-header class="pb-2">
    <p class="text-xs text-gray-500 font-medium uppercase tracking-wider mb-1">
      {{ course.school }}
    </p>
    <mat-card-title class="!font-bold !text-lg !leading-tight line-clamp-2 group-hover:text-rose-600 transition-colors">
      {{ course.title }}
    </mat-card-title>
  </mat-card-header>

  <mat-card-content class="pb-3">
    <p class="text-sm text-gray-600 line-clamp-2">{{ course.description }}</p>
    
    @if (course.progress !== undefined) {
      <div class="mt-3">
        <div class="flex items-center justify-between text-xs mb-1">
          <span class="text-gray-500">Progression</span>
          <span class="font-medium text-rose-600">{{ course.progress }}%</span>
        </div>
        <mat-progress-bar mode="determinate" [value]="course.progress" class="!h-2"></mat-progress-bar>
      </div>
    }
  </mat-card-content>

  <mat-card-footer class="pt-3 border-t border-gray-200">
    <div class="flex items-center justify-between w-full text-sm text-gray-600 p-4">
      <div class="flex items-center gap-4">
        <span class="flex items-center gap-1">
          <mat-icon class="!w-4 !h-4">schedule</mat-icon>
          {{ course.duration }}
        </span>
        <span class="flex items-center gap-1">
          <mat-icon class="!w-4 !h-4">people</mat-icon>
          {{ course.students.toLocaleString() }}
        </span>
      </div>
      <a 
        [routerLink]="['/course', course.id]"
        class="flex items-center gap-1 text-rose-600 hover:text-rose-700 font-medium transition-colors no-underline"
      >
        Voir <mat-icon class="!w-4 !h-4">chevron_right</mat-icon>
      </a>
    </div>
  </mat-card-footer>
</mat-card>
