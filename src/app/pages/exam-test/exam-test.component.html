<div class="min-h-screen bg-gray-50">
  <app-header></app-header>
  
  <main class="pt-24 pb-16">
    <!-- Hero Section -->
    <section class="container mx-auto px-4 mb-16">
      <div class="text-center max-w-3xl mx-auto">
        <mat-chip class="mb-4 !bg-rose-100 !text-rose-600">
          Examen d'État RDC
        </mat-chip>
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
          Préparez-vous pour l'Examen d'État
        </h1>
        <p class="text-lg text-gray-600 mb-8">
          Simulez les conditions réelles de l'examen d'état de la République Démocratique du Congo. 
          Entraînez-vous avec des questions similaires et améliorez vos chances de réussite.
        </p>
        
        <!-- Stats -->
        <div class="grid grid-cols-3 gap-4 max-w-lg mx-auto">
          @for (stat of stats; track stat.label) {
            <div class="text-center">
              <mat-icon class="!w-6 !h-6 mx-auto mb-2 text-rose-600">{{ stat.icon }}</mat-icon>
              <div class="font-bold text-2xl text-gray-900">{{ stat.value }}</div>
              <div class="text-xs text-gray-600">{{ stat.label }}</div>
            </div>
          }
        </div>
      </div>
    </section>

    <!-- Exam Sections -->
    <section class="container mx-auto px-4 mb-16">
      <h2 class="text-2xl font-bold text-gray-900 mb-8 text-center">
        Choisissez une Section
      </h2>
      
      <!-- Search Bar -->
      <div class="max-w-md mx-auto mb-8">
        <mat-form-field appearance="outline" class="w-full">
          <mat-icon matPrefix>search</mat-icon>
          <input
            matInput
            type="text"
            placeholder="Rechercher une section ou une matière..."
            [value]="searchQuery()"
            (input)="searchQuery.set($any($event.target).value)"
          />
        </mat-form-field>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        @for (section of filteredSections; track section.id) {
          <mat-card 
            [class.border-rose-600]="selectedCategory() === section.id"
            [class.border-2]="selectedCategory() === section.id"
            class="cursor-pointer transition-all hover:shadow-lg"
            (click)="selectCategory(section.id)"
          >
            <mat-card-header>
              <div class="flex items-center justify-between w-full mb-2">
                <span class="text-3xl">{{ section.icon }}</span>
                <mat-chip [color]="getDifficultyColor(section.difficulty)">
                  {{ section.difficulty }}
                </mat-chip>
              </div>
              <mat-card-title class="!text-xl">{{ section.name }}</mat-card-title>
              <mat-card-subtitle>{{ section.description }}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <div class="flex flex-wrap gap-1 mb-3">
                @for (subject of section.subjects.slice(0, 3); track subject) {
                  <mat-chip class="!text-xs">{{ subject }}</mat-chip>
                }
                @if (section.subjects.length > 3) {
                  <mat-chip class="!text-xs">+{{ section.subjects.length - 3 }}</mat-chip>
                }
              </div>
              <div class="flex items-center justify-between text-sm text-gray-600 mb-4">
                <div class="flex items-center gap-1">
                  <mat-icon class="!w-4 !h-4">quiz</mat-icon>
                  <span>{{ section.questions }} questions</span>
                </div>
                <div class="flex items-center gap-1">
                  <mat-icon class="!w-4 !h-4">schedule</mat-icon>
                  <span>{{ section.duration }}</span>
                </div>
              </div>
              <button
                mat-flat-button
                [color]="selectedCategory() === section.id ? 'primary' : null"
                class="w-full"
                (click)="startExam(section); $event.stopPropagation()"
              >
                <mat-icon>play_arrow</mat-icon>
                Commencer l'examen
              </button>
            </mat-card-content>
          </mat-card>
        }
      </div>
    </section>

    <!-- How it works -->
    <section class="container mx-auto px-4">
      <mat-card class="!bg-gray-100">
        <mat-card-header class="text-center">
          <mat-card-title class="!text-2xl">Comment ça marche ?</mat-card-title>
          <mat-card-subtitle>
            Suivez ces étapes pour vous préparer efficacement
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            @for (item of [
              { step: 1, title: 'Choisir', desc: 'Sélectionnez la matière à réviser' },
              { step: 2, title: 'S\'entraîner', desc: 'Répondez aux questions en temps limité' },
              { step: 3, title: 'Réviser', desc: 'Consultez les corrections détaillées' },
              { step: 4, title: 'Progresser', desc: 'Suivez votre évolution et améliorez-vous' },
            ]; track item.step) {
              <div class="text-center relative">
                <div class="w-12 h-12 rounded-full bg-rose-600 text-white flex items-center justify-center mx-auto mb-4 font-bold text-lg">
                  {{ item.step }}
                </div>
                <h4 class="font-semibold text-gray-900 mb-1">{{ item.title }}</h4>
                <p class="text-sm text-gray-600">{{ item.desc }}</p>
                @if (item.step < 4) {
                  <mat-icon class="hidden md:block absolute top-6 -right-3 text-gray-400">chevron_right</mat-icon>
                }
              </div>
            }
          </div>
        </mat-card-content>
      </mat-card>
    </section>
  </main>

  <app-footer></app-footer>
</div>